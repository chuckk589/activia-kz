(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f66a86d"],{"529d":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CDataTable",{attrs:{items:e.items,fields:e.fields,pagination:"",itemsPerPageSelect:"","column-filter":""},scopedSlots:e._u([{key:"primary",fn:function(t){var o=t.item;return[n("td",[e._v(e._s(o.primary?"Да":"Нет"))])]}},{key:"confirmed",fn:function(t){var o=t.item;return[n("td",[e._v(e._s(o.confirmed?"Да":"Нет"))])]}},{key:"notified",fn:function(t){var o=t.item;return[n("td",[e._v(e._s(o.notified?"Да":"Нет"))])]}},{key:"createdAt",fn:function(t){var o=t.item;return[n("td",[e._v(e._s(new Date(o.createdAt).toLocaleString()))])]}},{key:"action",fn:function(t){var o=t.item;return[n("td",[n("CDropdown",{staticClass:"m-2",attrs:{"toggler-text":"Действия",color:"secondary"}},[n("CDropdownItem",{on:{click:function(t){return e.sendNotify(o)}}},[e._v("Уведомить о выигрыше")]),n("CDropdownItem",{on:{click:function(t){return e.approveWinner(o)}}},[e._v("Подтвердить")])],1)],1)]}}])})],1)},l=[],a=n("b33f"),i={name:"Winners",components:{CExtendedModal:a["a"]},data:function(){return{items:[],fields:[{key:"id",label:"Id"},{key:"primary",label:"Основной"},{key:"checkId",label:"Id чека"},{key:"lotteryId",label:"Id розыгрыша"},{key:"createdAt",label:"Дата выигрыша"},{key:"confirmed",label:"Подтвержден"},{key:"notified",label:"Уведомлен"},{key:"action",label:"",filter:!1,sorter:!1}]}},mounted:function(){var e=this;this.$http({method:"GET",url:"/v1/winner/"}).then((function(t){e.items=t.data}))},methods:{sendNotify:function(e){this.$http({method:"PUT",url:"/v1/winner/".concat(e.id,"/notification")}).then((function(t){e.notified=1}))},approveWinner:function(e){this.$http({method:"PUT",url:"/v1/winner/".concat(e.id),data:{confirmed:1}}).then((function(t){e.confirmed=1}))}}},r=i,c=n("2877"),s=Object(c["a"])(r,o,l,!1,null,null,null);t["default"]=s.exports},b33f:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CModal",{attrs:{show:e.vis,title:e.mData.header},on:{"update:show":function(t){e.vis=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[n("CButton",{attrs:{shape:"square",color:"primary"},on:{click:function(t){return e.closeModal()}}},[e._v(e._s(e.mData.footer))])]},proxy:!0}])},[e._t("content"),e._l(e.mData.fields,(function(t,o){return[e.$scopedSlots[t.label]?[e._t(t.label,null,{item:t})]:t.select?n("CSelect",{key:o,attrs:{label:t.label,value:t.value,options:"bool"==t.select?e.boolSelect:t.select},on:{"update:value":function(n){return e.$set(t,"value",n)}}}):n("CInput",{key:o,attrs:{label:t.label,type:t.type},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"field.value"}})]}))],2)},l=[],a={name:"ExtendedModal",data:function(){return{boolSelect:[{value:1,label:"Да"},{value:0,label:"Нет"}]}},props:{vis:Boolean,mData:Object},methods:{closeModal:function(){this.vis=!1,this.$emit("modal-closed")}}},i=a,r=n("2877"),c=Object(r["a"])(i,o,l,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-4f66a86d.41f6095f.js.map